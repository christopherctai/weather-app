(()=>{const t=document.querySelector(".search-form"),e=t.querySelector("#search");t.addEventListener("submit",(async function(){try{let t=e.value,n=await c(t);o=r(n),x(o)}catch(t){console.log(t)}}));const n=document.querySelector("body");fetch("https://api.giphy.com/v1/gifs/translate?api_key=5Sm4fMi9HFImp6QVYsjr9nIL07N1hjXy&s=rainy",{mode:"cors"}).then((function(t){return t.json()})).then((function(t){n.style.backgroundImage=`url(${t.data.images.original.url})`})).catch((function(t){console.log(t)}));let o=async function(){try{let t=await c("San Diego");return o=r(t),x(o),o}catch(t){console.log(t)}}();async function c(t){try{let e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=812a5522c00940c58f902241232604&q=${t}&days=3`);return await e.json()}catch(t){console.log(t)}}function r(t){let e={};return e.conditionIcon=t.current.condition.icon,e.conditionText=t.current.condition.text,e.feelsLikeC=t.current.feelslike_c,e.feelsLikeF=t.current.feelslike_f,e.humidity=t.current.humidity,e.lastUpdated=t.current.last_updated,e.tempC=t.current.temp_c,e.tempF=t.current.temp_f,e.windKph=t.current.wind_kph,e.windMph=t.current.wind_mph,e.forecast=t.forecast,e.locationName=t.location.name,e}const i=document.querySelector(".location-name"),a=document.querySelector(".condition-icon"),u=document.querySelector(".condition-text"),l=document.querySelector(".temperature"),d=document.querySelector(".feels-like-temperature"),s=document.querySelector(".last-updated"),m=document.querySelector(".humidity"),p=document.querySelector(".wind"),f=document.querySelector(".temperature-modifier");let y=!1;function h(t){y=!0,l.textContent=`${t.tempC} C`,d.textContent=`Feels Like ${t.feelsLikeC} C`,p.textContent=`${t.windKph} Kph`,f.textContent="Change to Imperial"}function C(t){y=!1,l.textContent=`${t.tempF} F`,d.textContent=`Feels Like ${t.feelsLikeF} F`,p.textContent=`${t.windMph} Mph`,f.textContent="Change to Metric"}function x(t){i.textContent=t.locationName,a.src=t.conditionIcon,u.textContent=t.conditionText,s.textContent=`Last Updated: ${t.lastUpdated}`,m.textContent=`${t.humidity}%`,y?h(t):C(t)}f.addEventListener("click",(()=>{!function(t){y?C(t):h(t)}(o)}))})();
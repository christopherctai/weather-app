(()=>{const t=document.querySelector(".search-form"),e=t.querySelector("#search");async function n(t){try{let e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=812a5522c00940c58f902241232604&q=${t}&days=3`);return await e.json()}catch(t){console.log(t)}}function o(t){let e={};return e.conditionIcon=t.current.condition.icon,e.conditionText=t.current.condition.text,e.feelsLikeC=t.current.feelslike_c,e.feelsLikeF=t.current.feelslike_f,e.humidity=t.current.humidity,e.lastUpdated=t.current.last_updated,e.tempC=t.current.temp_c,e.tempF=t.current.temp_f,e.windKph=t.current.wind_kph,e.windMph=t.current.wind_mph,e.forecast=t.forecast,e.locationName=t.location.name,e}t.addEventListener("submit",(async function(){try{let t=e.value,c=o(await n(t));return f(c),c}catch(t){console.log(t)}})),async function(){try{let t=o(await n("San Diego"));return f(t),t}catch(t){console.log(t)}}();const c=document.querySelector(".location-name"),r=document.querySelector(".condition-icon"),i=document.querySelector(".condition-text"),u=document.querySelector(".temperature"),a=document.querySelector(".feels-like-temperature"),l=document.querySelector(".last-updated"),d=document.querySelector(".humidity"),s=document.querySelector(".wind"),m=document.querySelector(".temperature-modifier");let p=!1;function f(t){c.textContent=t.locationName,r.src=t.conditionIcon,i.textContent=t.conditionText,l.textContent=`Last Updated: ${t.lastUpdated}`,d.textContent=`${t.humidity}%`,p?function(t){p=!0,u.textContent=`${t.tempC} C`,a.textContent=`Feels Like ${t.feelsLikeC} C`,s.textContent=`${t.windKph} Kph`,m.textContent="Change to Imperial"}(t):function(t){p=!1,u.textContent=`${t.tempF} F`,a.textContent=`Feels Like ${t.feelsLikeF} F`,s.textContent=`${t.windMph} Mph`,m.textContent="Change to Metric"}(t)}})();
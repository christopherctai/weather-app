(()=>{const t=document.querySelector(".search-form"),e=t.querySelector("#search");t.addEventListener("submit",(async function(){try{let t=e.value,i=await o(t);n=c(i),C(n)}catch(t){console.log(t)}})),document.querySelector("body");let n=async function(){try{let t=await o("San Diego");return n=c(t),C(n),n}catch(t){console.log(t)}}();async function o(t){try{let e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=812a5522c00940c58f902241232604&q=${t}&days=3`);return await e.json()}catch(t){console.log(t)}}function c(t){let e={};return e.conditionIcon=t.current.condition.icon,e.conditionText=t.current.condition.text,e.feelsLikeC=t.current.feelslike_c,e.feelsLikeF=t.current.feelslike_f,e.humidity=t.current.humidity,e.lastUpdated=t.current.last_updated,e.tempC=t.current.temp_c,e.tempF=t.current.temp_f,e.windKph=t.current.wind_kph,e.windMph=t.current.wind_mph,e.forecast=t.forecast,e.locationName=t.location.name,e}const i=document.querySelector(".location-name"),r=document.querySelector(".current-condition-icon"),a=document.querySelector(".current-condition-text"),d=document.querySelector(".temperature"),u=document.querySelector(".feels-like-temperature"),l=document.querySelector(".last-updated"),m=document.querySelector(".humidity"),s=document.querySelector(".wind"),p=document.querySelector(".temperature-modifier");let f=!1;function y(t){f=!0,d.textContent=`${t.tempC} C`,u.textContent=`Feels Like ${t.feelsLikeC} C`,s.textContent=`${t.windKph} Kph`,p.textContent="Change to Imperial"}function h(t){f=!1,d.textContent=`${t.tempF} F`,u.textContent=`Feels Like ${t.feelsLikeF} F`,s.textContent=`${t.windMph} Mph`,p.textContent="Change to Metric"}function C(t){i.textContent=t.locationName,r.src=t.conditionIcon,a.textContent=t.conditionText,l.textContent=`Last Updated: ${t.lastUpdated}`,m.textContent=`${t.humidity}%`,f?y(t):h(t),function(t){let e=t.forecast.forecastday[0].hour,n=[];for(let t=0;t<24;t++){let o={};o.time=`${t}:00`,o.conditionIcon=e[t].condition.icon,o.conditionText=e[t].condition.text,o.tempC=e[t].temp_c,o.tempF=e[t].temp_f,n.push(o)}}(t),function(t){let e=t.forecast.forecastday;console.log(e);let n=[];for(let t=0;t<3;t++){let o={};o.lowF=e[t].day.mintemp_f,o.highF=e[t].day.maxtemp_f,o.lowC=e[t].day.mintemp_c,o.highC=e[t].day.maxtemp_c,o.conditionText=e[t].day.condition.text,o.conditionIcon=e[t].day.condition.icon,n.push(o)}console.log(n)}(t)}p.addEventListener("click",(()=>{!function(t){f?h(t):y(t)}(n)}))})();
(()=>{const t=document.querySelector(".search-form"),e=t.querySelector("#search");t.addEventListener("submit",(async function(){try{let t=e.value,n=await a(t);return d=l(n),S(d),d}catch(t){console.log(t)}}));let n=!1,o=0;const c=document.querySelectorAll(".nav-circle");c.forEach(((t,e)=>{t.addEventListener("click",(()=>{o=e,F(o,k(d)),t.classList.remove("selected"),v(o,c)}))}));const i=document.getElementById("carousel-left"),r=document.getElementById("carousel-right");i.addEventListener("click",(()=>{0===o?o=2:o-=1,v(o,c),F(o,k(d))})),r.addEventListener("click",(()=>{2===o?o=0:o+=1,v(o,c),F(o,k(d))})),document.querySelector("body");let d=async function(){try{let t=await a("San Diego");return d=l(t),S(d),d}catch(t){console.log(t)}}();async function a(t){try{let e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=812a5522c00940c58f902241232604&q=${t}&days=3`);return await e.json()}catch(t){console.log(t)}}function l(t){let e={};return e.conditionIcon=t.current.condition.icon,e.conditionText=t.current.condition.text,e.feelsLikeC=t.current.feelslike_c,e.feelsLikeF=t.current.feelslike_f,e.humidity=t.current.humidity,e.lastUpdated=t.current.last_updated,e.tempC=t.current.temp_c,e.tempF=t.current.temp_f,e.windKph=t.current.wind_kph,e.windMph=t.current.wind_mph,e.forecast=t.forecast,e.locationName=t.location.name,e}const u=document.querySelector(".location-name"),s=document.querySelector(".current-condition-icon"),m=document.querySelector(".current-condition-text"),f=document.querySelector(".temperature"),p=document.querySelector(".feels-like-temperature"),y=document.querySelector(".last-updated"),h=document.querySelector(".humidity"),C=document.querySelector(".wind"),x=document.querySelector(".temperature-modifier");function L(t){f.textContent=`${t.tempC} C`,p.textContent=`Feels Like ${t.feelsLikeC} C`,C.textContent=`${t.windKph} Kph`,E(t),x.textContent="Change to Imperial",n=!0}function E(t){let e=document.querySelectorAll(".temperature-forecast"),c=k(t);n?e.forEach(((t,e)=>{t.textContent=`${c[o][e].tempF} F`})):e.forEach(((t,e)=>{t.textContent=`${c[o][e].tempC} C`}))}function q(t){f.textContent=`${t.tempF} F`,p.textContent=`Feels Like ${t.feelsLikeF} F`,C.textContent=`${t.windMph} Mph`,E(t),x.textContent="Change to Metric",n=!1}function S(t){u.textContent=t.locationName,s.src=t.conditionIcon,m.textContent=t.conditionText,y.textContent=`Last Updated: ${t.lastUpdated}`,h.textContent=`${t.humidity}%`,n?L(t):q(t);let e=k(t);F(o,e),function(t){let e=t.forecast.forecastday,n=[];for(let t=0;t<3;t++){let o={};o.lowF=e[t].day.mintemp_f,o.highF=e[t].day.maxtemp_f,o.lowC=e[t].day.mintemp_c,o.highC=e[t].day.maxtemp_c,o.conditionText=e[t].day.condition.text,o.conditionIcon=e[t].day.condition.conditionIcon,n.push(o)}}(t),v(0,c)}function k(t){let e=t.forecast.forecastday[0].hour,n=[],o=0;for(let t=0;t<3;t++){let t=[];for(let n=o;n<o+8;n++){let o={};o.time=`${n}:00`,o.conditionIcon=e[n].condition.icon,o.conditionText=e[n].condition.text,o.tempC=e[n].temp_c,o.tempF=e[n].temp_f,t.push(o)}n.push(t),o+=8}return n}function F(t,e){let n=function(){let t=document.querySelector(".forecast-content");return t.textContent="",t}();for(let o=0;o<8;o++)n.append(w(e[t][o]));return n}function v(t,e){e.forEach((t=>{t.classList.remove("selected")})),document.getElementById(t).classList.add("selected")}function w(t){let e=document.createElement("div");e.classList.add("time"),e.textContent=t.time;let o=document.createElement("div");o.classList.add("condition"),o.textContent=t.conditionText;let c=document.createElement("div");c.classList.add("temperature-forecast"),c.textContent=n?`${t.tempC} C`:`${t.tempF} F`;let i=document.createElement("img");i.classList.add("icon"),i.src=t.conditionIcon;let r=document.createElement("div");return r.classList.add("hourly-forecast"),r.append(e,c,i,o),r}x.addEventListener("click",(()=>{!function(t){n?q(t):L(t)}(d)}))})();